@{
    string pageTitle = Model.LocationId == 0 ? "Add New Location" : "Edit Location";

}

@model FP.Models.Location

@{
    ViewBag.Title = pageTitle;
    Layout = "~/Views/Shared/_Popup.cshtml";
}

<div>

    <h4 class="form-title">@pageTitle</h4>

    <form id="pageForm">
        <input type='hidden' name="LocationId" id="LocationId" value="@Model.LocationId">
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Code</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="code" value="@Model.Code" required>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="name" value="@Model.Name" required>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Description</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="description" value="@Model.Description" required>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-4">
                <label>System Value Type</label>
                <select id="system-value-type" class="form-control">
                    <option value="INT" selected="selected">INT</option>
                    <option value="STRING">STRING</option>
                </select>
            </div>
            <div class="form-group col-md-4">
                <label>System Value Id</label>
                <input type="text" class="form-control" id="system-value-id" value="@Model.OriginatingSystemIdValue" required>
            </div>

            <div class="form-group col-md-4">
                <label>Contract</label>
                @Html.DropDownList("contract-id", (IEnumerable<SelectListItem>)ViewBag.Contracts, new { @class = "form-control" })
            </div>
        </div>

    </form>

    <div class="edit-buttons">
        <a id="save-location" class="btn btn-primary" href="javascript:;"><i class="fas fa-check"></i> Save</a>
        <a class="btn btn-primary" href="javascript:parent.fbCloseRefresh();"><i class="fas fa-ban"></i> Cancel</a>
        <a class="btn btn-primary btn-delete btn-danger" href="javascript:$('.delete-confirm').removeClass('hidden');"><i class="fas fa-times"></i> Delete</a>

    </div>


    <div class="form-group delete-confirm hidden">

        <h4 class="pull-left">Are you sure you want to delete this item?</h4>
        <p class="pull-right">
            <a id="delete-location" class="btn btn-primary btn-sm" href="javascript:;">Yes</a>
            <a class="btn btn-primary btn-sm" href="javascript:$('.delete-confirm').addClass('hidden');">No</a>
        </p>
        <div class="clearfix"></div>
    </div>

    @Html.Partial("_Alert")



</div>

@section scripts {

    <script type="text/javascript">
        $(document).ready(function () {
            if ($("#LocationId").val() != "0") {
                $("#system-value-type").val("@Model.OriginatingSystemIdType");
                $("#contract-id").val("@Model.ContractId");
            }

            else {
                $("#delete-Location").hide();
            }

        });


    </script>
}




